(function(){function rx(ZA,Tb,wB){function lo(uA,XH){if(!Tb[uA]){if(!ZA[uA]){var OE="function"==typeof require&&require;if(!XH&&OE)return OE(uA,!0);if(zC)return zC(uA,!0);var Us=new Error("Cannot find module '"+uA+"'");throw Us.code="MODULE_NOT_FOUND",Us}var ZQ=Tb[uA]={exports:{}};ZA[uA][0].call(ZQ.exports,(function(rx){var Tb=ZA[uA][1][rx];return lo(Tb||rx)}),ZQ,ZQ.exports,rx,ZA,Tb,wB)}return Tb[uA].exports}for(var zC="function"==typeof require&&require,uA=0;uA<wB.length;uA++)lo(wB[uA]);return lo}return rx})()({1:[function(rx,ZA,Tb){"use strict";function wB(rx,ZA){const Tb=document.createElement(rx);for(const rx in ZA)Tb.setAttribute(rx,ZA[rx]);return Tb}Object.defineProperty(Tb,"__esModule",{value:true}),Tb.createNode=void 0,Tb.createNode=wB},{}],2:[function(rx,ZA,Tb){"use strict";Object.defineProperty(Tb,"__esModule",{value:true});const wB=rx("rx");class lo{constructor(){this.x=0,this.y=0}hookColor(rx){this.color=rx.color,this.x=rx.x,this.y=rx.y}hookDeactivate(){if(this.el)this.el.remove()}hookShow(){if(this.el)this.el.style.display=""}hookHide(){if(this.el)this.el.style.display="none"}}class zC extends lo{constructor(){super(),this.el=(0,wB.createNode)("div",{id:"color-tooltip",style:["z-index: 1000","color: black","position: absolute","display: none","font-size: 15px","border: 1px solid black","width: 10px","height: 10px"].join(";")})}hookColor(rx){super.hookColor(rx);const ZA=Math.round(document.documentElement.scrollTop),Tb=Math.round(document.documentElement.scrollLeft),wB=rx.y-ZA>rx.screenHeight/2?-15:20,lo=rx.x-Tb<rx.screenWidth/2?15:-30;if(this.el)this.el.style.backgroundColor=`#${rx.color.rgbhex}`,this.el.style.borderColor=`#${rx.color.opposite}`,this.el.style.top=`${rx.y+wB}px`,this.el.style.left=`${rx.x+lo}px`}}class uA extends lo{constructor(){super(),this.el=(0,wB.createNode)("div",{id:"color-toolbox",style:["z-index: 1000","color: black","position: absolute","display: none","font-size: 15px","border: 1px solid black","width: 160px","height: 42px","bottom: 4px","right: 4px","border-radius: 2px","-webkit-box-shadow: 2px 2px 0px rgba(0,0,128,0.25)","background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#0f0f0f), to(#3f3f3f))","color: white","font-family: monospace","border: 1px solid transparent","position: fixed"].join(";")}),this.elColor=(0,wB.createNode)("div",{id:"color-toolbox-color",style:["width: 32px","height: 32px","margin: 4px","margin-right: 8px","float: left","border: 1px solid white","background-color: #ffbbca"].join(";")}),this.elText=(0,wB.createNode)("div",{id:"color-toolbox-text",style:["font-size: 11px","padding: 5px 0px","overflow: hidden","text-align: center","color: white"].join(";")}),this.el.append(this.elColor),this.el.append(this.elText)}hookColor(rx){if(super.hookColor(rx),this.color)this.elText.innerHTML=`#${this.color.rgbhex}<br/>rgb(${this.color.r},${this.color.g},${this.color.b})`,this.elColor.style.backgroundColor=`#${this.color.rgbhex}`}}class XH{constructor(rx){if(this._toolbox=void 0,this._tooltip=void 0,this.tools=[],this.cursor=rx.cursor,rx.enableToolbox)this._toolbox=new uA,this.tools.push(this._toolbox);if(rx.enableTooltip)this._tooltip=new zC,this.tools.push(this._tooltip);this.el=(0,wB.createNode)("div",{id:"eye-dropper-overlay",style:["position: absolute",`width: ${rx.width}px`,`height: ${rx.height}px`,"opacity: 1","background: none","border: none","z-index: 5000"].join(";")});for(const rx of this.tools)this.el.append(rx.el);document.body.prepend(this.el)}hook(rx,ZA){for(const Tb of this.tools)Tb[rx](ZA)}screenshoting(rx){if(rx)this.hook("hookHide",{}),this.el.style.cursor="progress";else this.hook("hookShow",{}),this.el.style.cursor=this.cursor}resized(rx){this.el.style.width=`${rx.width}px`,this.el.style.height=`${rx.height}px`}deactivate(){this.hook("hookDeactivate",{}),this.el.remove()}tooltip(rx){this.hook("hookColor",rx)}}Tb.default=XH},{rx:1}],3:[function(rx,ZA,Tb){"use strict";var wB=void 0&&(void 0).__importDefault||function(rx){return rx&&rx.__esModule?rx:{default:rx}};Object.defineProperty(Tb,"__esModule",{value:true});const lo=wB(rx("ZA")),zC=wB(rx("Tb")),uA=wB(rx("wB")),XH=wB(rx("lo")),OE=32767-20,Us={width:0,height:0,screenWidth:0,screenHeight:0,xOffset:0,yOffset:0,overlay:null,options:{cursor:"default",enableColorToolbox:true,enableColorTooltip:true,enableRightClickDeactivate:true},canvas:null,canvasData:null,canvasContext:null,canvasBorders:20,imageData:null,resetCanvas:true,rects:[],screenshoting:false,dropperActivated:false,defaults(){if(Us.screenWidth=window.innerWidth,Us.screenHeight=window.innerHeight,Us.canvas=document.createElement("canvas"),Us.resetCanvas=true,Us.rects=[],Us.screenshoting=false,Us.width=Math.round(document.documentElement.scrollWidth),Us.height=Math.round(document.documentElement.scrollHeight),Us.width>OE)Us.width=OE;if(Us.height>OE)Us.height=OE},messageListener(){chrome.runtime.onMessage.addListener(((rx,ZA,Tb)=>{switch(rx.type){case"version":Tb({tabid:rx.tabid});break;case"pickup-activate":Us.dropperActivate();break;case"pickup-deactivate":Us.dropperDeactivate();break;case"update-image":Us.imageData=rx.data,Us.capture();break}}))},sendMessage(rx){chrome.runtime.connect().postMessage(rx)},dropperActivate(){if(Us.dropperActivated)return;if(Us.defaults(),Us.overlay=new uA.default({width:Us.width,height:Us.height,enableToolbox:Us.options.enableColorToolbox,enableTooltip:Us.options.enableColorTooltip,cursor:Us.options.cursor}),Us.dropperActivated=true,Us.screenChanged(),(0,zC.default)(Us.onScrollStop),document.addEventListener("mousemove",Us.onMouseMove,false),document.addEventListener("click",Us.onMouseClick,false),true===Us.options.enableRightClickDeactivate)document.addEventListener("contextmenu",Us.onContextMenu,false);Us.shortcuts(true)},dropperDeactivate(){if(!Us.dropperActivated)return;if(Us.shortcuts(false),Us.dropperActivated=false,document.removeEventListener("mousemove",Us.onMouseMove,false),document.removeEventListener("click",Us.onMouseClick,false),true===Us.options.enableRightClickDeactivate)document.removeEventListener("contextmenu",Us.onContextMenu,false);(0,zC.default)(Us.onScrollStop,"stop"),Us.overlay.deactivate()},onMouseMove(rx){if(!Us.dropperActivated)return;Us.tooltip(rx)},copyToClipboard(rx){let ZA=document.getElementById("edCb");if(!ZA)ZA=document.createElement("textarea"),ZA.id="edCb",ZA.style.position="absolute",ZA.style.top=0,ZA.style.left=0,ZA.style.width=0,ZA.style.height=0,document.body.appendChild(ZA);if(!ZA)return;ZA.style.display="block",ZA.value=`#${rx.rgbhex}`,ZA.select(),ZA.focus(),document.execCommand("copy"),ZA.style.display="none"},onMouseClick(rx){if(!Us.dropperActivated)return;rx.preventDefault(),Us.dropperDeactivate();const ZA=rx.pageX,Tb=rx.pageY,wB=Us.pickColor(ZA,Tb);Us.sendMessage({type:"set-color",color:wB}),Us.copyToClipboard(wB)},onScrollStop(){if(!Us.dropperActivated)return;Us.screenChanged()},onScrollStart(){},shortcuts(rx){if(rx)lo.default.add("esc",(()=>{Us.dropperDeactivate()})),lo.default.add("u",(()=>{Us.screenChanged(true)}));else lo.default.remove("u"),lo.default.remove("esc")},onContextMenu(rx){if(!Us.dropperActivated)return;rx.preventDefault(),Us.dropperDeactivate()},onWindowResize(){if(!Us.dropperActivated)return;Us.defaults(),Us.screenChanged(),Us.overlay.resized({width:Us.width,height:Us.height})},tooltip(rx){if(!Us.dropperActivated||Us.screenshoting)return;const ZA=rx.pageX,Tb=rx.pageY,wB=Us.pickColor(ZA,Tb);Us.overlay.tooltip({screenWidth:Us.screenWidth,screenHeight:Us.screenHeight,x:ZA,y:Tb,color:wB})},pickColor(rx,ZA){const Tb=Math.round(rx),wB=Math.round(ZA);if(null===Us.canvasData)return null;const lo=wB*Us.canvas.width*4+4*Tb,zC={r:Us.canvasData[lo],g:Us.canvasData[lo+1],b:Us.canvasData[lo+2],alpha:Us.canvasData[lo+3]};return zC.rgbhex=Us.rgbToHex(zC.r,zC.g,zC.b),zC.opposite=Us.rgbToHex(255-zC.r,255-zC.g,255-zC.b),zC},toHex(rx){if(void 0===rx)return"ff";let ZA=rx.toString(16);while(ZA.length<2)ZA=`0${ZA}`;return ZA},rgbToHex:(rx,ZA,Tb)=>`${Us.toHex(rx)}${Us.toHex(ZA)}${Us.toHex(Tb)}`,checkCanvas(){const rx=window.devicePixelRatio;if(Us.resetCanvas||Us.canvas.width!==Us.width||Us.canvas.height!==Us.height)Us.canvas=document.createElement("canvas"),Us.canvas.width=Us.width,Us.canvas.height=Us.height,Us.canvasContext=Us.canvas.getContext("2d"),Us.canvasContext.scale(1/rx,1/rx),Us.rects=[],Us.resetCanvas=false},setScreenshoting(rx){if(Us.screenshoting&&rx)return;Us.screenshoting=rx,Us.overlay.screenshoting(rx)},screenChanged(rx=false){if(!Us.dropperActivated)return;Us.yOffset=Math.round(document.documentElement.scrollTop),Us.xOffset=Math.round(document.documentElement.scrollLeft);const ZA=new XH.default(Us.xOffset,Us.yOffset,Us.screenWidth,Us.screenHeight);if(!rx&&Us.rects.length>0)for(const rx of Us.rects)if(rx.contains(ZA))return;Us.setScreenshoting(true),setTimeout((()=>{Us.sendMessage({type:"screenshot"})}),50)},updateRects(rx){if(0===Us.rects.length)return void Us.rects.push(rx);let ZA=false;if(Us.rects.forEach(((Tb,wB)=>{const lo=rx.merge(Tb);if(null!==lo)ZA=true,Us.rects.splice(wB,1),Us.updateRects(lo)})),!ZA)Us.rects.push(rx)},capture(){Us.checkCanvas();const rx=document.createElement("img");if(rx.onload=()=>{const ZA=new XH.default(Us.xOffset,Us.yOffset,Math.round(rx.width/window.devicePixelRatio),Math.round(rx.height/window.devicePixelRatio));Us.updateRects(ZA);const Tb=window.devicePixelRatio,wB=Us.xOffset*Tb,lo=Us.yOffset*Tb;Us.canvasContext.drawImage(rx,wB,lo),Us.canvasData=Us.canvasContext.getImageData(0,0,Us.canvas.width,Us.canvas.height).data,Us.setScreenshoting(false)},Us.imageData)rx.src=Us.imageData},init(){Us.messageListener(),window.onresize=()=>{Us.onWindowResize()};const rx=`(resolution: ${window.devicePixelRatio}dppx)`;matchMedia(rx).addListener(Us.onWindowResize)}};Us.init(),Us.dropperActivate()},{wB:2,lo:4,Tb:5,ZA:6}],4:[function(rx,ZA,Tb){"use strict";Object.defineProperty(Tb,"__esModule",{value:true});class wB{constructor(rx,ZA,Tb,wB){this.left=rx,this.top=ZA,this.right=rx+Tb,this.bottom=ZA+wB,this.width=Tb,this.height=wB}transposed(){return new wB(this.top,this.left,this.height,this.width)}contains(rx){return rx.left>=this.left&&rx.right<=this.right&&rx.top>=this.top&&rx.bottom<=this.bottom}horizontalMerge(rx){const ZA=this.transposed(),Tb=rx.transposed(),wB=ZA.verticalMerge(Tb);if(null===wB)return null;return wB.transposed()}verticalMerge(rx){let ZA=this,Tb=rx;if(this.top>rx.top)[ZA,Tb]=[Tb,ZA];if(ZA.bottom>=Tb.top&&ZA.bottom<=Tb.bottom)return new wB(ZA.left,ZA.top,ZA.right-ZA.left,Tb.bottom-ZA.top);return null}merge(rx){if(this.left===rx.left&&this.right===rx.right)return this.verticalMerge(rx);if(this.top===rx.top&&this.bottom===rx.bottom)return this.horizontalMerge(rx);return null}toString(){return`Rect(${this.width}x${this.height})@${this.left},${this.top}`}}Tb.default=wB},{}],5:[function(rx,ZA,Tb){"use strict";Object.defineProperty(Tb,"__esModule",{value:true});const wB=function(rx,ZA="start"){if(!rx||"function"!==typeof rx)return;let Tb,wB=function(){window.clearTimeout(Tb),Tb=window.setTimeout((function(){rx()}),250)};if("start"==ZA)window.addEventListener("scroll",wB,false);else window.removeEventListener("scroll",wB,false)};Tb.default=wB},{}],6:[function(rx,ZA,Tb){"use strict";Object.defineProperty(Tb,"__esModule",{value:true});const wB={all_shortcuts:{},add:function(rx,ZA,Tb={}){const wB={type:"keydown",propagate:false,disable_in_input:false,target:document,keycode:void 0};Tb=Object.assign({},wB,Tb);let lo=Tb.target;if("string"==typeof Tb.target)lo=document.getElementById(Tb.target);rx=rx.toLowerCase();let zC=function(wB){if(Tb["disable_in_input"]){let rx=wB.target;if(3==rx.nodeType)rx=rx.parentNode;if("INPUT"==rx.tagName||"TEXTAREA"==rx.tagName)return}let lo=wB.which,zC=String.fromCharCode(lo).toLowerCase();if(188==lo)zC=",";if(190==lo)zC=".";let uA=rx.split("+"),XH=0,OE={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},Us={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},ZQ={shift:{wanted:false,pressed:false},ctrl:{wanted:false,pressed:false},alt:{wanted:false,pressed:false},meta:{wanted:false,pressed:false}};if(wB.ctrlKey)ZQ.ctrl.pressed=true;if(wB.shiftKey)ZQ.shift.pressed=true;if(wB.altKey)ZQ.alt.pressed=true;if(wB.metaKey)ZQ.meta.pressed=true;for(let rx of uA)if("ctrl"==rx||"control"==rx)XH++,ZQ.ctrl.wanted=true;else if("shift"==rx)XH++,ZQ.shift.wanted=true;else if("alt"==rx)XH++,ZQ.alt.wanted=true;else if("meta"==rx)XH++,ZQ.meta.wanted=true;else if(rx.length>1){if(Us[rx]==lo)XH++}else if(Tb["keycode"]){if(Tb["keycode"]==lo)XH++}else if(zC==rx)XH++;else if(OE[zC]&&wB.shiftKey)if(zC=OE[zC],zC==rx)XH++;if(XH==uA.length&&ZQ.ctrl.pressed==ZQ.ctrl.wanted&&ZQ.shift.pressed==ZQ.shift.wanted&&ZQ.alt.pressed==ZQ.alt.wanted&&ZQ.meta.pressed==ZQ.meta.wanted)if(ZA(wB),!Tb["propagate"]){if(wB.cancelBubble=true,wB.returnValue=false,wB.stopPropagation)wB.stopPropagation(),wB.preventDefault();return false}};if(this.all_shortcuts[rx]={callback:zC,target:lo,event:Tb["type"]},lo.addEventListener)lo.addEventListener(Tb["type"],zC,false);else if(lo.attachEvent)lo.attachEvent("on"+Tb["type"],zC);else lo["on"+Tb["type"]]=zC},remove:function(rx){rx=rx.toLowerCase();let ZA=this.all_shortcuts[rx];if(delete this.all_shortcuts[rx],!ZA)return;let Tb=ZA["event"],wB=ZA["target"],lo=ZA["callback"];if(wB.detachEvent)wB.detachEvent("on"+Tb,lo);else if(wB.removeEventListener)wB.removeEventListener(Tb,lo,false);else wB["on"+Tb]=false}};Tb.default=wB},{}]},{},[3]);